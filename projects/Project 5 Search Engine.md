Project 5 Search Engine
=================================================

For this project, you will create a customizable search engine that builds off all your previous projects. This project will use multithreading, an inverted index, servlets, sockets, cookies, Jetty, HTTP, and HTML.

## Functionality ##

The functionality for this project is broken into 2 parts: core functionality and additional features. You must complete the core functionality *before* attempting additional features.

### Core Features ###

You must implement the following core features for a total of 25 points:

- **Search (15 points)**: Display a webpage with a text box where users may enter a multi-word search query, and a button that submits the query to your search engine. 

- **Results (10 points)**: Your search engine should perform a partial search from an inverted index generated by your web crawler, and return an HTML page with sorted and clickable links to the search results.

You should not begin working on additional features until the core functionality is working properly.

### Additional Features ###

You must implement a minimum of 75 points worth of additional features. These features are broken into three categories: user tracking, database support, and extra functionality. You may choose any combination of features from these categories.

- **User Tracking:** The following features require you to use session tracking and/or cookies to store per-user information.

  - **Search History (10 points):** Store a history of all search queries entered by a user, and allow the user to view and clear that history.
  
  - **Visited Results (10 points):** Store a history of all search results visited by a user, and allow the user to view and clear that history. *Hint:* Modify the search result links to direct back to your search engine, so that you may first store that the link was visited and then redirect the user to the link selected.
  
  - **Favorite Results (10 points):** Allow a user to save favorite search results, and allow the user to view and clear those favorites. *Hint:* Add a special link to each result that saves it as a favorite, but consider how to do this in the least disruptive way for the user. 

  - **Time Stamps (5 points):** Add timestamps to each item stored per user. For example, add timestamps to the user's search history. *You are expected to implement this for all related features to earn full credit. For example, if you implement search history and visited results, timestamps should be added to BOTH features for full credit.*

  - **Private Search (5 points)**: Allow users to set an option that turns off all tracking of per-user data. *You are expected to implement this for all related features to earn full credit. For example, if you implement search history and visited results, tracking should be turned off for BOTH features for full credit.*
  
  - **Partial Search Toggle (5 points)**: Allow the user to toggle on/off partial search.
  
  - **Last Login Time (5 points)**: Track and display the last time the user logged into your search engine. If you are not implementing user accounts, track the last time the user visited your search engine instead.

- **Database Support:** The following features require you to connect your search engine to a database over JDBC.

  - **User Accounts (20 points):** Allow users to register, login, and logout of an account with your search engine. You will need to securely store usernames and passwords in a database for this feature, and use some form of session tracking to determine if a user is logged in to the search engine.
  
  - **User Data (15 points):** Store all per-user data persistently in a database instead of in cookies. *You are expected to implement this for all related features to earn full credit. For example, if you implement search history and visited results, data from BOTH should be stored in a database for full credit.*
  
  - **Page Snippets (15 points):** During a crawl, store short snippets of every webpage found in a database and display these snippets whenever that page is returned as a result.

  - **Change Password (10 points):** Allow users to change and/or reset their password.
  
  - **Logged In Users (5 points):** Track and display the last 5 users to log into your search engine.

- **Extra Functionality**: The following features allow you to customize the functionality of your search engine.

  - **New Crawl (10 points)**: Allow a user to enter a new seed URL to crawl. The results should be added to your inverted index (not replace the already existing results).

  - **Suggested Queries (10 points)**: Provide users five suggested queries based on either the latest queries made by other users -or- the most popular queries made by other users.
  
  - **Graceful Shutdown (10 points)**: Allow an administrator to trigger a *graceful* shutdown of your search engine without calling `System.exit()`. You will need to create a special servlet for this feature.

  - **StringTemplate (5 points)**: Use `StringTemplate` to generate your HTML instead of several `println()` statements. See for <http://www.cs.usfca.edu/~parrt/course/601/lectures/stringtemplate.html> more information on `StringTemplate`.

  - **Search Statistics (5 points)**: Display the total number of results along with the time it took to calculate and fetch those results.

  - **Search Brand (5 points)**: Design a search engine with a distinct brand. This includes creating a logo, and creating a distinct and consistent style for your web pages.

You may implement extra additional features for extra credit. See below for details.

### Extra Credit ###

You may implement additional features to receive extra credit on this project. You may implement as many additional features as you like, and may even suggest some features to the instructor.

You may earn up to a maximum of 110% overall grade on this project.

## Execution ##

Your `main` method must be placed in a class named `Driver`. The `Driver` class should accept the following **additional** command-line arguments:

- `-port num` where `-port` indicates the next argument is the port the web server should use to accept socket connections. Use `8080` as the default value if it is not provided.

The command-line flag/value pairs may be provided in any order. **Your code should support all of the command-line arguments from the previous projects as well.**

:warning: The `Driver` class should be the only file that is not generalized and specific to the project. If the proper command-line arguments are not provided, the `Driver` class should output a user-friendly error message to the console and exit gracefully.

## Output ##

The majority of the output for this project will be in the form of HTTP responses to a browser. Only output the inverted index or search results to a file if the necessary flags are provided.

## Testing ##

No unit tests will be provided for this project. Instead, this project will be graded interactively during finals week.

## Submission ##

This project will be graded interactively during finals week. It must be pushed to your Github repository by that time.

:bulb: See the **[Project README](../README.md)** for additional details on testing, submission, and code review.
